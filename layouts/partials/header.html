<header class="site-header {{ .Site.Params.header.class }}">
  <div class="site-logo">
    <a href="{{ .Site.BaseURL }}">
      {{ $logo := resources.Get .Site.Params.logo }}
      {{ with $logo }}
        <img src="{{ .RelPermalink }}" alt="Pavilion logo" loading="lazy"/>
      {{ end }}
    </a>
    <div class="hamburger-toggle">
      <button class='hamburger-button' onclick="toggleNavigation()">
        <i class="fas fa-bars"></i>
      </button>
    </div>
  </div>
  <nav class="site-navigation">
    {{ partial "header-menu" . }}
  </nav>
  {{ partial "site-cta" . }}
</header>

<script>
window.onscroll = (() => {
  const header = document.querySelector('.site-header');
  const scrollAmount = 10;

  if (document.body.scrollTop > scrollAmount || document.documentElement.scrollTop > scrollAmount) {
    header.classList.add('scrolling-header');
  } else {
    header.classList.remove('scrolling-header');
  }
});

toggleNavigation = (() => {
  const navigationItems = document.querySelector('.site-navigation');
  return navigationItems.classList.toggle('expanded-navigation');
});
</script>
